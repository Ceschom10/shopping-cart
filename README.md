# shopping-cart
ess un carrito de compras


PETICIONES DESDE POSTMAN
Header: Authorization Basic U2hvcHBpbmdVc2VyOlRpNEVFalRiVDQzcDJua3Z3NzBHJCQzYWJYVT0=


Peticiones desde postman:
name: ShoppingUser
password: Ti4EEjTbT43p2nkvw70G$$3abXU=


Url swaguer: http://localhost:8082/shopping-cart/swagger/swagger-ui/index.html#/



CREACION DE LA BASE DE DATOS EN POSTGRESQL

-- Database: shoppingcart

-- DROP DATABASE IF EXISTS shoppingcart;

CREATE DATABASE shoppingcart
    WITH
    OWNER = "SU USUARIO DE BASES DE DATOS"
    ENCODING = 'UTF8'
    LC_COLLATE = 'en_US.UTF-8'
    LC_CTYPE = 'en_US.UTF-8'
    TABLESPACE = pg_default
    CONNECTION LIMIT = -1
    IS_TEMPLATE = False;

GRANT TEMPORARY, CONNECT ON DATABASE shoppingcart TO PUBLIC;

GRANT ALL ON DATABASE shoppingcart TO "SU USUARIO DE BASES DE DATOS";

-- SCHEMA: sch_shopping

-- DROP SCHEMA IF EXISTS sch_shopping ;

CREATE SCHEMA IF NOT EXISTS sch_shopping
    AUTHORIZATION "SU USUARIO DE BASES DE DATOS";

GRANT ALL ON SCHEMA sch_shopping TO "SU USUARIO DE BASES DE DATOS";

ALTER DEFAULT PRIVILEGES FOR ROLE cesar IN SCHEMA sch_shopping
GRANT INSERT, SELECT, UPDATE, DELETE, REFERENCES, TRIGGER ON TABLES TO "SU USUARIO DE BASES DE DATOS";

-- Table: sch_shopping.order

-- DROP TABLE IF EXISTS sch_shopping."order";

CREATE TABLE IF NOT EXISTS sch_shopping."order"
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    fecha timestamp without time zone,
    cliente character varying COLLATE pg_catalog."default",
    total double precision,
    CONSTRAINT ordens_pk PRIMARY KEY (id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS sch_shopping."order"
    OWNER to "SU USUARIO DE BASES DE DATOS";
    
 -- Table: sch_shopping.order_details

-- DROP TABLE IF EXISTS sch_shopping.order_details;

CREATE TABLE IF NOT EXISTS sch_shopping.order_details
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    id_orden integer,
    id_producto integer,
    cantidad integer,
    precio_unitario double precision,
    subtotal double precision,
    CONSTRAINT orden_details_pk PRIMARY KEY (id),
    CONSTRAINT orden_details_fk_1 FOREIGN KEY (id_orden)
        REFERENCES sch_shopping."order" (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS sch_shopping.order_details
    OWNER to "SU USUARIO DE BASES DE DATOS";
